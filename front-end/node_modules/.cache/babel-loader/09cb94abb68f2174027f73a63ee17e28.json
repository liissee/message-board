{"ast":null,"code":"import _slicedToArray from \"/Users/lindaisell/Desktop/technigo-bootcamp/message-board/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/lindaisell/Desktop/technigo-bootcamp/message-board/front-end/src/components/Registration.js\";\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux'; // import { fetchUser } from '../reducers/users'\n\nimport { Input, Button } from '@material-ui/core';\nimport styled from 'styled-components';\nexport const Registration = () => {\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        userName = _useState2[0],\n        setUserName = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        password = _useState4[0],\n        setPassword = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        registred = _useState6[0],\n        setRegistred = _useState6[1];\n\n  const _useState7 = useState(false),\n        _useState8 = _slicedToArray(_useState7, 2),\n        failure = _useState8[0],\n        setFailure = _useState8[1];\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    fetch(\"http://localhost:8080/users\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        userName,\n        password\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => {\n      console.log(res.json());\n\n      if (res.status !== 201) {\n        return res.json().then(json => console.log(json.message)), setFailure(true);\n      } else {\n        setRegistred(true);\n        setTimeout(reDirect, 2000);\n      }\n    }).catch(err => console.log(\"Error:\", err));\n  };\n\n  const reDirect = () => {// history.push(`/`);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, !registred && React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, !failure && React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"Create new user\"), failure && React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"User not created. Try using another userName or email!\"), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(Input, {\n    type: \"text\",\n    required: true,\n    value: userName,\n    onChange: event => setUserName(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"Password\", React.createElement(Input, {\n    type: \"password\",\n    required: true,\n    value: password,\n    onChange: event => setPassword(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  })), React.createElement(Button, {\n    onClick: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \"SIGN UP\"), React.createElement(Button, {\n    type: \"button\",\n    onClick: reDirect,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"Already a member?\"))), registred && React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, \"User created!\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \"Continuing to login...\")));\n};","map":{"version":3,"sources":["/Users/lindaisell/Desktop/technigo-bootcamp/message-board/front-end/src/components/Registration.js"],"names":["React","useState","useDispatch","useSelector","Input","Button","styled","Registration","userName","setUserName","password","setPassword","registred","setRegistred","failure","setFailure","handleSubmit","event","preventDefault","fetch","method","body","JSON","stringify","headers","then","res","console","log","json","status","message","setTimeout","reDirect","catch","err","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n// import { fetchUser } from '../reducers/users'\nimport { Input, Button } from '@material-ui/core'\nimport styled from 'styled-components'\n\n\nexport const Registration = () => {\n  const [userName, setUserName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [registred, setRegistred] = useState(false);\n  const [failure, setFailure] = useState(false);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    fetch(\"http://localhost:8080/users\", {\n      method: \"POST\",\n      body: JSON.stringify({ userName, password }),\n      headers: { \"Content-Type\": \"application/json\" }\n    })\n      .then(res => {\n        console.log(res.json())\n        if (res.status !== 201) {\n          return (\n            res.json().then(json => console.log(json.message)), setFailure(true)\n          );\n        } else {\n          setRegistred(true);\n          setTimeout(reDirect, 2000);\n        }\n      })\n      .catch(err => console.log(\"Error:\", err));\n  };\n\n  const reDirect = () => {\n    // history.push(`/`);\n  };\n\n  return (\n    <div>\n      {!registred && (\n        <div>\n          <form>\n            {!failure && <div>Create new user</div>}\n            {failure && (\n              <div>\n                User not created. Try using another userName or email!\n              </div>\n            )}\n\n            <label>\n              <Input\n                type=\"text\"\n                required\n                value={userName}\n                onChange={event => setUserName(event.target.value)}\n              ></Input>\n            </label>\n            <label>\n              Password\n              <Input\n                type=\"password\"\n                required\n                value={password}\n                onChange={event => setPassword(event.target.value)}\n              ></Input>\n            </label>\n            <Button\n              onClick={handleSubmit}\n            >\n              SIGN UP\n            </Button>\n            <Button type=\"button\" onClick={reDirect}>\n              Already a member?\n            </Button>\n          </form>\n        </div>\n      )}\n      {registred && (\n        <div>\n          <div>User created!</div>\n          <div>Continuing to login...</div>\n        </div>\n      )}\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}