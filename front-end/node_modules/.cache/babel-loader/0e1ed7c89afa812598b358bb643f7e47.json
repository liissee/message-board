{"ast":null,"code":"import _slicedToArray from \"/Users/lindaisell/Desktop/technigo-bootcamp/message-board/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/lindaisell/Desktop/technigo-bootcamp/message-board/front-end/src/components/Registration.js\";\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Button, div, form, Divider, Input, Label } from '@material-ui/core';\nimport styled from 'styled-components';\nconst url = \"https://final-movie-match.herokuapp.com/users\";\nexport const Registration = () => {\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        name = _useState2[0],\n        setName = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        password = _useState4[0],\n        setPassword = _useState4[1];\n\n  const _useState5 = useState(\"\"),\n        _useState6 = _slicedToArray(_useState5, 2),\n        email = _useState6[0],\n        setEmail = _useState6[1];\n\n  const _useState7 = useState(false),\n        _useState8 = _slicedToArray(_useState7, 2),\n        registred = _useState8[0],\n        setRegistred = _useState8[1];\n\n  const _useState9 = useState(false),\n        _useState10 = _slicedToArray(_useState9, 2),\n        failure = _useState10[0],\n        setFailure = _useState10[1];\n\n  const history = useHistory();\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify({\n        name,\n        email,\n        password\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => {\n      if (res.status !== 201) {\n        return res.json().then(json => console.log(json.message)), setFailure(true);\n      } else {\n        setRegistred(true);\n        setTimeout(reDirect, 2000);\n      }\n    }).catch(err => console.log(\"Error:\", err));\n  };\n\n  const reDirect = () => {\n    history.push(`/login`);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, registred && React.createElement(Divider, {\n    color: \"#fff\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"Success! Continuing to login...\"), !registred && React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, !failure && React.createElement(Divider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"CREATE NEW USER\"), failure && React.createElement(Divider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"User not created. Try using another name or email!\"), React.createElement(Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Name \", name.length < 2 && name.length !== 0 && \" is too short\", name.length > 20 && \" is too long\", React.createElement(Input, {\n    type: \"text\",\n    required: true,\n    value: name,\n    onChange: event => setName(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  })), React.createElement(Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"Email\", React.createElement(Input, {\n    lowercase: true,\n    type: \"text\",\n    required: true,\n    value: email,\n    onChange: event => setEmail(event.target.value.toLowerCase()),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  })), React.createElement(Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"Password\", \" \", password.length < 5 && password.length !== 0 && \" is too short\", React.createElement(Input, {\n    type: \"password\",\n    required: true,\n    value: password,\n    onChange: event => setPassword(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  })), React.createElement(Button, {\n    type: \"submit\",\n    disabled: name.length > 1 && name.length < 21 && password.length > 4 && email ? false : true,\n    onClick: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, \"SIGN UP\"), React.createElement(Button, {\n    type: \"button\",\n    onClick: reDirect,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, \"Already a member?\"))));\n};","map":{"version":3,"sources":["/Users/lindaisell/Desktop/technigo-bootcamp/message-board/front-end/src/components/Registration.js"],"names":["React","useState","useHistory","Button","div","form","Divider","Input","Label","styled","url","Registration","name","setName","password","setPassword","email","setEmail","registred","setRegistred","failure","setFailure","history","handleSubmit","event","preventDefault","fetch","method","body","JSON","stringify","headers","then","res","status","json","console","log","message","setTimeout","reDirect","catch","err","push","length","target","value","toLowerCase"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { Button, div, form, Divider, Input, Label } from '@material-ui/core'\nimport styled from 'styled-components'\n\nconst url = \"https://final-movie-match.herokuapp.com/users\"\n\n\nexport const Registration = () => {\n  const [name, setName] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n  const [email, setEmail] = useState(\"\")\n  const [registred, setRegistred] = useState(false)\n  const [failure, setFailure] = useState(false)\n  const history = useHistory()\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify({ name, email, password }),\n      headers: { \"Content-Type\": \"application/json\" }\n    })\n      .then(res => {\n        if (res.status !== 201) {\n          return (\n            res.json().then(json => console.log(json.message)), setFailure(true)\n          )\n        } else {\n          setRegistred(true)\n          setTimeout(reDirect, 2000);\n        }\n      })\n      .catch(err => console.log(\"Error:\", err))\n  }\n\n  const reDirect = () => {\n    history.push(`/login`)\n  }\n\n  return (\n    <div>\n      {registred &&\n        <Divider color={\"#fff\"}>Success! Continuing to login...</Divider>\n      }\n      {!registred && (\n        <div>\n          <form onSubmit={handleSubmit}>\n            {!failure && <Divider>CREATE NEW USER</Divider>}\n            {failure && (\n              <Divider>\n                User not created. Try using another name or email!\n              </Divider>\n            )}\n            <Label>\n              Name {name.length < 2 && name.length !== 0 && \" is too short\"}\n              {name.length > 20 && \" is too long\"}\n              <Input\n                type=\"text\"\n                required\n                value={name}\n                onChange={event => setName(event.target.value)}\n              ></Input>\n            </Label>\n            <Label>\n              Email\n              <Input\n                lowercase\n                type=\"text\"\n                required\n                value={email}\n                onChange={event => setEmail(event.target.value.toLowerCase())}\n              ></Input>\n            </Label>\n            <Label>\n              Password{\" \"}\n              {password.length < 5 && password.length !== 0 && \" is too short\"}\n              <Input\n                type=\"password\"\n                required\n                value={password}\n                onChange={event => setPassword(event.target.value)}\n              ></Input>\n            </Label>\n            <Button\n              type=\"submit\"\n              disabled={\n                name.length > 1 &&\n                  name.length < 21 &&\n                  password.length > 4 &&\n                  email\n                  ? false\n                  : true\n              }\n              onClick={handleSubmit}\n            >\n              SIGN UP\n            </Button>\n            <Button type=\"button\" onClick={reDirect}>\n              Already a member?\n            </Button>\n          </form>\n        </div>\n      )}\n    </div>\n  )\n}"]},"metadata":{},"sourceType":"module"}