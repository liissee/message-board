{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nexport const messages = createSlice({\n  name: 'messages',\n  initialState: {\n    messages: []\n  },\n  reducers: {\n    setMessage: (state, action) => {\n      state.messages = action.payload;\n    },\n    setShowReplies: (state, action) => {\n      const messages = action.payload.messages;\n      const replies = {\n        type: \"REPLIES\",\n        messages\n      };\n      state.columns.push(replies);\n    },\n    setPostedMessage: (state, action) => {\n      state = action.payload;\n    } // setReplyMessage: (state, action) => {\n    //   state = action.payload\n    // }\n\n  }\n});\nexport const showReplies = (teamList, userId) => {\n  return dispatch => {\n    const payload = {\n      teamList,\n      userId\n    };\n    dispatch(explorer.actions.setShowReplies(payload));\n  };\n}; //GET MESSAGES\n\nexport const fetchMessages = () => {\n  return dispatch => {\n    fetch('http://localhost:8080/messages').then(res => res.json()).then(json => {\n      console.log(json);\n      dispatch(messages.actions.setMessage(json));\n    });\n  };\n}; //POST MESSAGES\n\nexport const postMessages = ({\n  message,\n  author,\n  parentId\n}) => {\n  return dispatch => {\n    fetch(\"http://localhost:8080/messages\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        message,\n        author,\n        parentId\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => {\n      dispatch(messages.actions.setPostedMessage(message, author, parentId));\n    }).catch(() => {\n      console.log(\"Failed to post message\");\n    });\n  };\n}; // //POST REPLY\n// export const replyMessage = ({ message, author, id }) => {\n//   return dispatch => {\n//     fetch(`http://localhost:8080/messages/${id}/reply`, {\n//       method: \"POST\",\n//       body: JSON.stringify({ message, author, parentId: id }),\n//       headers: { \"Content-Type\": \"application/json\" }\n//     })\n//       .then(res => {\n//         dispatch(messages.actions.setReplyMessage({ message, author, parentId: id }));\n//         console.log(message)\n//       })\n//       .catch(console.log(\"Failed to reply\"))\n//   };\n// };","map":{"version":3,"sources":["/Users/lindaisell/Desktop/technigo-bootcamp/message-board/front-end/src/reducers/messages.js"],"names":["createSlice","messages","name","initialState","reducers","setMessage","state","action","payload","setShowReplies","replies","type","columns","push","setPostedMessage","showReplies","teamList","userId","dispatch","explorer","actions","fetchMessages","fetch","then","res","json","console","log","postMessages","message","author","parentId","method","body","JSON","stringify","headers","catch"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AAEA,OAAO,MAAMC,QAAQ,GAAGD,WAAW,CAAC;AAClCE,EAAAA,IAAI,EAAE,UAD4B;AAElCC,EAAAA,YAAY,EAAE;AACZF,IAAAA,QAAQ,EAAE;AADE,GAFoB;AAKlCG,EAAAA,QAAQ,EAAE;AACRC,IAAAA,UAAU,EAAE,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAC7BD,MAAAA,KAAK,CAACL,QAAN,GAAiBM,MAAM,CAACC,OAAxB;AACD,KAHO;AAIRC,IAAAA,cAAc,EAAE,CAACH,KAAD,EAAQC,MAAR,KAAmB;AAAA,YACzBN,QADyB,GACZM,MAAM,CAACC,OADK,CACzBP,QADyB;AAEjC,YAAMS,OAAO,GAAG;AACdC,QAAAA,IAAI,EAAE,SADQ;AAEdV,QAAAA;AAFc,OAAhB;AAIAK,MAAAA,KAAK,CAACM,OAAN,CAAcC,IAAd,CAAmBH,OAAnB;AAED,KAZO;AAaRI,IAAAA,gBAAgB,EAAE,CAACR,KAAD,EAAQC,MAAR,KAAmB;AACnCD,MAAAA,KAAK,GAAGC,MAAM,CAACC,OAAf;AACD,KAfO,CAgBR;AACA;AACA;;AAlBQ;AALwB,CAAD,CAA5B;AA2BP,OAAO,MAAMO,WAAW,GAAG,CAACC,QAAD,EAAWC,MAAX,KAAsB;AAC/C,SAAOC,QAAQ,IAAI;AACjB,UAAMV,OAAO,GAAG;AAAEQ,MAAAA,QAAF;AAAYC,MAAAA;AAAZ,KAAhB;AACAC,IAAAA,QAAQ,CAACC,QAAQ,CAACC,OAAT,CAAiBX,cAAjB,CAAgCD,OAAhC,CAAD,CAAR;AACD,GAHD;AAID,CALM,C,CAMP;;AACA,OAAO,MAAMa,aAAa,GAAG,MAAM;AACjC,SAAOH,QAAQ,IAAI;AACjBI,IAAAA,KAAK,CAAC,gCAAD,CAAL,CACGC,IADH,CACSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADjB,EAEGF,IAFH,CAESE,IAAD,IAAU;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAP,MAAAA,QAAQ,CAACjB,QAAQ,CAACmB,OAAT,CAAiBf,UAAjB,CAA4BoB,IAA5B,CAAD,CAAR;AACD,KALH;AAMD,GAPD;AAQD,CATM,C,CAWP;;AACA,OAAO,MAAMG,YAAY,GAAG,CAAC;AAAEC,EAAAA,OAAF;AAAWC,EAAAA,MAAX;AAAmBC,EAAAA;AAAnB,CAAD,KAAmC;AAC7D,SAAOb,QAAQ,IAAI;AACjBI,IAAAA,KAAK,CAAC,gCAAD,EAAmC;AACtCU,MAAAA,MAAM,EAAE,MAD8B;AAEtCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEN,QAAAA,OAAF;AAAWC,QAAAA,MAAX;AAAmBC,QAAAA;AAAnB,OAAf,CAFgC;AAGtCK,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB;AAH6B,KAAnC,CAAL,CAKGb,IALH,CAKQC,GAAG,IAAI;AACXN,MAAAA,QAAQ,CAACjB,QAAQ,CAACmB,OAAT,CAAiBN,gBAAjB,CAAkCe,OAAlC,EAA2CC,MAA3C,EAAmDC,QAAnD,CAAD,CAAR;AACD,KAPH,EAQGM,KARH,CAQS,MAAM;AACXX,MAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACD,KAVH;AAWD,GAZD;AAaD,CAdM,C,CAiBP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA","sourcesContent":["import { createSlice } from '@reduxjs/toolkit'\n\nexport const messages = createSlice({\n  name: 'messages',\n  initialState: {\n    messages: [],\n  },\n  reducers: {\n    setMessage: (state, action) => {\n      state.messages = action.payload\n    },\n    setShowReplies: (state, action) => {\n      const { messages } = action.payload;\n      const replies = {\n        type: \"REPLIES\",\n        messages\n      };\n      state.columns.push(replies);\n\n    },\n    setPostedMessage: (state, action) => {\n      state = action.payload\n    },\n    // setReplyMessage: (state, action) => {\n    //   state = action.payload\n    // }\n  }\n})\n\nexport const showReplies = (teamList, userId) => {\n  return dispatch => {\n    const payload = { teamList, userId };\n    dispatch(explorer.actions.setShowReplies(payload));\n  };\n};\n//GET MESSAGES\nexport const fetchMessages = () => {\n  return dispatch => {\n    fetch('http://localhost:8080/messages')\n      .then((res) => res.json())\n      .then((json) => {\n        console.log(json);\n        dispatch(messages.actions.setMessage(json));\n      });\n  };\n};\n\n//POST MESSAGES\nexport const postMessages = ({ message, author, parentId }) => {\n  return dispatch => {\n    fetch(\"http://localhost:8080/messages\", {\n      method: \"POST\",\n      body: JSON.stringify({ message, author, parentId }),\n      headers: { \"Content-Type\": \"application/json\" }\n    })\n      .then(res => {\n        dispatch(messages.actions.setPostedMessage(message, author, parentId));\n      })\n      .catch(() => {\n        console.log(\"Failed to post message\")\n      })\n  }\n};\n\n\n// //POST REPLY\n// export const replyMessage = ({ message, author, id }) => {\n//   return dispatch => {\n//     fetch(`http://localhost:8080/messages/${id}/reply`, {\n//       method: \"POST\",\n//       body: JSON.stringify({ message, author, parentId: id }),\n//       headers: { \"Content-Type\": \"application/json\" }\n//     })\n//       .then(res => {\n//         dispatch(messages.actions.setReplyMessage({ message, author, parentId: id }));\n//         console.log(message)\n\n//       })\n//       .catch(console.log(\"Failed to reply\"))\n//   };\n// };\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}