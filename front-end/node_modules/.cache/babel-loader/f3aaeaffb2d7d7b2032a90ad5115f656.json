{"ast":null,"code":"var _jsxFileName = \"/Users/lindaisell/Desktop/technigo-bootcamp/message-board/front-end/src/components/DeleteMessage.js\";\nimport React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { deleteMessage } from 'reducers/messages';\nimport { Button } from '@material-ui/core';\nimport styled from 'styled-components';\nexport const DeleteMessage = ({\n  id\n}) => {\n  const dispatch = useDispatch();\n  const userId = useSelector(state => state.users.userId); // const handleSubmit = (event) => {\n  //   event.preventDefault()\n  //   console.log(id)\n  //   dispatch(deleteMessage({ id, author }))\n  // }\n\n  const handleRemove = createdAt => {\n    fetch(`http://localhost:8080/messages/${id}`, {\n      method: \"DELETE\",\n      body: JSON.stringify({\n        userId,\n        createdAt\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": sessionStorage.getItem(\"id_token\")\n      }\n    }).catch(err => {\n      throw err;\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(Button, {\n    variant: \"contained\",\n    type: \"submit\",\n    onClick: handleRemove,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, \"Delete\"));\n};","map":{"version":3,"sources":["/Users/lindaisell/Desktop/technigo-bootcamp/message-board/front-end/src/components/DeleteMessage.js"],"names":["React","useSelector","useDispatch","deleteMessage","Button","styled","DeleteMessage","id","dispatch","userId","state","users","handleRemove","createdAt","fetch","method","body","JSON","stringify","headers","sessionStorage","getItem","catch","err"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,aAAT,QAA8B,mBAA9B;AACA,SAASC,MAAT,QAAuB,mBAAvB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAIA,OAAO,MAAMC,aAAa,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAY;AACvC,QAAMC,QAAQ,GAAGN,WAAW,EAA5B;AAEA,QAAMO,MAAM,GAAGR,WAAW,CAAES,KAAD,IAAWA,KAAK,CAACC,KAAN,CAAYF,MAAxB,CAA1B,CAHuC,CAMvC;AACA;AACA;AACA;AACA;;AAEA,QAAMG,YAAY,GAAIC,SAAD,IAAe;AAClCC,IAAAA,KAAK,CAAE,kCAAiCP,EAAG,EAAtC,EAAyC;AAC5CQ,MAAAA,MAAM,EAAE,QADoC;AAE5CC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAET,QAAAA,MAAF;AAAUI,QAAAA;AAAV,OAAf,CAFsC;AAG5CM,MAAAA,OAAO,EAAE;AAAE,wBAAgB,kBAAlB;AAAsC,yBAAiBC,cAAc,CAACC,OAAf,CAAuB,UAAvB;AAAvD;AAHmC,KAAzC,CAAL,CAKGC,KALH,CAKSC,GAAG,IAAI;AACZ,YAAMA,GAAN;AACD,KAPH;AAQD,GATD;;AAWA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAC,WAAhB;AAA4B,IAAA,IAAI,EAAC,QAAjC;AAA0C,IAAA,OAAO,EAAEX,YAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CADF;AAOD,CA9BM","sourcesContent":["import React from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { deleteMessage } from 'reducers/messages';\nimport { Button } from '@material-ui/core';\nimport styled from 'styled-components'\n\n\n\nexport const DeleteMessage = ({ id }) => {\n  const dispatch = useDispatch();\n\n  const userId = useSelector((state) => state.users.userId)\n\n\n  // const handleSubmit = (event) => {\n  //   event.preventDefault()\n  //   console.log(id)\n  //   dispatch(deleteMessage({ id, author }))\n  // }\n\n  const handleRemove = (createdAt) => {\n    fetch(`http://localhost:8080/messages/${id}`, {\n      method: \"DELETE\",\n      body: JSON.stringify({ userId, createdAt }),\n      headers: { \"Content-Type\": \"application/json\", \"Authorization\": sessionStorage.getItem(\"id_token\") }\n    })\n      .catch(err => {\n        throw err;\n      })\n  }\n\n  return (\n    <div>\n      <Button variant=\"contained\" type=\"submit\" onClick={handleRemove}>\n        Delete\n        </Button>\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}